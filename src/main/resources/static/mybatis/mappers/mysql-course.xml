<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.Edu.Dao.CourseMapper">

<!-- Course 쿼리 -->


	<!-- 코스 정보 불러오기 -->
	<select id="findCos" resultType="Course">
		SELECT *
		FROM course where cosno = #{cosno}
	</select>
	
	<!-- 코스번호에 맞는 강좌들 불러오기 -->
	<select id="findCos_lec" resultType="Lecture">
		SELECT *
		FROM lecture where cosno = #{cosno}
	</select>
	
	<!-- 강좌번호에 맞는 강좌 불러오기 -->
	<select id="findLecVideo" resultType="Lecture">
		SELECT *
		FROM lecture where lecno = #{lecno}
	</select>
	
	<!-- 코스 리스트 가져오기 (코스이름과 카테고리 검색)-->
	<select id="findCosList" resultType="Course">
		SELECT *
		FROM course WHERE cosname like '%${keyword}%' OR coscategory like '%${keyword}%'
	</select>
	
	<!-- 시간순으로 코스 가져오기(10개) -->
	<select id="findNewCosList" resultType="Course">
		SELECT *
		FROM course ORDER BY cosregdate desc LIMIT 9
	</select>
	
	<!-- 인기 코스 가져오기 -->
	<select id="findPopCosList" resultType="Course">
		SELECT *
		FROM course ORDER BY coseval desc LIMIT 9
	</select>
	
	
	<!-- 코스 등록하기 -->
	<insert id="insertCourse">
		INSERT INTO course (cosname, cosintro, cosintrovideo, coscategory) 
		VALUES (#{cosname}, #{cosintro}, #{cosintrovideo}, #{coscategory})
	</insert>
		
	<!-- 강좌 등록하기 -->
	<insert id="insertLecture">
		INSERT INTO lecture (cosno, lectime, lecname, lecvideo) 
		VALUES (#{cosno}, #{lectime}, #{lecname}, #{lecvideo})
	</insert>	
	
	<!-- 코스카테고리 가져오기 -->
	<select id="findCosCategory" resultType="Course">
		SELECT DISTINCT coscategory FROM course 
	</select>
	

</mapper>